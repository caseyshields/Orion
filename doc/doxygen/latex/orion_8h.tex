\hypertarget{orion_8h}{}\section{src/h/orion.h File Reference}
\label{orion_8h}\index{src/h/orion.\+h@{src/h/orion.\+h}}
{\ttfamily \#include $<$pthread.\+h$>$}\newline
{\ttfamily \#include \char`\"{}catalog.\+h\char`\"{}}\newline
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_orion}{Orion}}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{orion_8h_a806c592730d1c9a33a5f41a8bef654c3}{O\+R\+I\+O\+N\+\_\+\+M\+O\+D\+E\+\_\+\+O\+FF}}~0
\item 
\#define \mbox{\hyperlink{orion_8h_afbaa3494dd65d5b21168b7e6d009d582}{O\+R\+I\+O\+N\+\_\+\+M\+O\+D\+E\+\_\+\+ON}}~1
\item 
\#define \mbox{\hyperlink{orion_8h_a24d28d68b4eba9d5883b94637883f1b9}{O\+R\+I\+O\+N\+\_\+\+R\+A\+TE}}~1
\item 
\#define \mbox{\hyperlink{orion_8h_a6e2572f3cd6bcbb2bfe23ed799d7ea69}{S\+L\+E\+E\+P\+\_\+\+R\+E\+S\+O\+L\+U\+T\+I\+ON}}~1
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{struct_orion}{Orion}} $\ast$ \mbox{\hyperlink{orion_8h_a33f2460264fc3f9e9939fb3f291c4de5}{orion\+\_\+create}} (\mbox{\hyperlink{struct_orion}{Orion}} $\ast$orion)
\item 
int \mbox{\hyperlink{orion_8h_adafd601281e0519b26db46a06046c4f7}{orion\+\_\+connect}} (\mbox{\hyperlink{struct_orion}{Orion}} $\ast$orion, char $\ast$ip, unsigned short port)
\item 
int \mbox{\hyperlink{orion_8h_a50ad846a48b4f9a9e6a0bf3daf1edef6}{orion\+\_\+start}} (\mbox{\hyperlink{struct_orion}{Orion}} $\ast$orion)
\item 
void \mbox{\hyperlink{orion_8h_a9b9aa05485996bc3a2ebfcf027e50471}{orion\+\_\+track}} (\mbox{\hyperlink{struct_orion}{Orion}} $\ast$orion, \mbox{\hyperlink{novas_8h_a262daaa71cede05205cfaa727313c1f3}{cat\+\_\+entry}} target)
\item 
int \mbox{\hyperlink{orion_8h_ab48a953fa4789878bbd631ef1080dd33}{orion\+\_\+stop}} (\mbox{\hyperlink{struct_orion}{Orion}} $\ast$orion)
\item 
void \mbox{\hyperlink{orion_8h_a25b007892d35cdb4ed2c42849311bc5f}{orion\+\_\+disconnect}} (\mbox{\hyperlink{struct_orion}{Orion}} $\ast$orion)
\item 
int \mbox{\hyperlink{orion_8h_a8cb76c96eedd83a732514941fd999e71}{orion\+\_\+free}} (\mbox{\hyperlink{struct_orion}{Orion}} $\ast$orion)
\item 
int \mbox{\hyperlink{orion_8h_aa2a04410d05c733769b5ef25beb50743}{orion\+\_\+is\+\_\+running}} (\mbox{\hyperlink{struct_orion}{Orion}} $\ast$orion)
\item 
int \mbox{\hyperlink{orion_8h_a30d0255064c075920c03162a3c37b154}{orion\+\_\+is\+\_\+connected}} (\mbox{\hyperlink{struct_orion}{Orion}} $\ast$orion)
\item 
double \mbox{\hyperlink{orion_8h_af99f733c05ea1a26aac41b9b5b4fe307}{orion\+\_\+mark\+\_\+time}} (\mbox{\hyperlink{struct_orion}{Orion}} $\ast$orion)
\item 
void \mbox{\hyperlink{orion_8h_ad8fe7b6e30c13746f481d248572551ce}{orion\+\_\+clear\+\_\+error}} (\mbox{\hyperlink{struct_orion}{Orion}} $\ast$orion)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{orion_8h_a806c592730d1c9a33a5f41a8bef654c3}\label{orion_8h_a806c592730d1c9a33a5f41a8bef654c3}} 
\index{orion.\+h@{orion.\+h}!O\+R\+I\+O\+N\+\_\+\+M\+O\+D\+E\+\_\+\+O\+FF@{O\+R\+I\+O\+N\+\_\+\+M\+O\+D\+E\+\_\+\+O\+FF}}
\index{O\+R\+I\+O\+N\+\_\+\+M\+O\+D\+E\+\_\+\+O\+FF@{O\+R\+I\+O\+N\+\_\+\+M\+O\+D\+E\+\_\+\+O\+FF}!orion.\+h@{orion.\+h}}
\subsubsection{\texorpdfstring{O\+R\+I\+O\+N\+\_\+\+M\+O\+D\+E\+\_\+\+O\+FF}{ORION\_MODE\_OFF}}
{\footnotesize\ttfamily \#define O\+R\+I\+O\+N\+\_\+\+M\+O\+D\+E\+\_\+\+O\+FF~0}

\mbox{\Hypertarget{orion_8h_afbaa3494dd65d5b21168b7e6d009d582}\label{orion_8h_afbaa3494dd65d5b21168b7e6d009d582}} 
\index{orion.\+h@{orion.\+h}!O\+R\+I\+O\+N\+\_\+\+M\+O\+D\+E\+\_\+\+ON@{O\+R\+I\+O\+N\+\_\+\+M\+O\+D\+E\+\_\+\+ON}}
\index{O\+R\+I\+O\+N\+\_\+\+M\+O\+D\+E\+\_\+\+ON@{O\+R\+I\+O\+N\+\_\+\+M\+O\+D\+E\+\_\+\+ON}!orion.\+h@{orion.\+h}}
\subsubsection{\texorpdfstring{O\+R\+I\+O\+N\+\_\+\+M\+O\+D\+E\+\_\+\+ON}{ORION\_MODE\_ON}}
{\footnotesize\ttfamily \#define O\+R\+I\+O\+N\+\_\+\+M\+O\+D\+E\+\_\+\+ON~1}

\mbox{\Hypertarget{orion_8h_a24d28d68b4eba9d5883b94637883f1b9}\label{orion_8h_a24d28d68b4eba9d5883b94637883f1b9}} 
\index{orion.\+h@{orion.\+h}!O\+R\+I\+O\+N\+\_\+\+R\+A\+TE@{O\+R\+I\+O\+N\+\_\+\+R\+A\+TE}}
\index{O\+R\+I\+O\+N\+\_\+\+R\+A\+TE@{O\+R\+I\+O\+N\+\_\+\+R\+A\+TE}!orion.\+h@{orion.\+h}}
\subsubsection{\texorpdfstring{O\+R\+I\+O\+N\+\_\+\+R\+A\+TE}{ORION\_RATE}}
{\footnotesize\ttfamily \#define O\+R\+I\+O\+N\+\_\+\+R\+A\+TE~1}

\mbox{\Hypertarget{orion_8h_a6e2572f3cd6bcbb2bfe23ed799d7ea69}\label{orion_8h_a6e2572f3cd6bcbb2bfe23ed799d7ea69}} 
\index{orion.\+h@{orion.\+h}!S\+L\+E\+E\+P\+\_\+\+R\+E\+S\+O\+L\+U\+T\+I\+ON@{S\+L\+E\+E\+P\+\_\+\+R\+E\+S\+O\+L\+U\+T\+I\+ON}}
\index{S\+L\+E\+E\+P\+\_\+\+R\+E\+S\+O\+L\+U\+T\+I\+ON@{S\+L\+E\+E\+P\+\_\+\+R\+E\+S\+O\+L\+U\+T\+I\+ON}!orion.\+h@{orion.\+h}}
\subsubsection{\texorpdfstring{S\+L\+E\+E\+P\+\_\+\+R\+E\+S\+O\+L\+U\+T\+I\+ON}{SLEEP\_RESOLUTION}}
{\footnotesize\ttfamily \#define S\+L\+E\+E\+P\+\_\+\+R\+E\+S\+O\+L\+U\+T\+I\+ON~1}



\subsection{Function Documentation}
\mbox{\Hypertarget{orion_8h_ad8fe7b6e30c13746f481d248572551ce}\label{orion_8h_ad8fe7b6e30c13746f481d248572551ce}} 
\index{orion.\+h@{orion.\+h}!orion\+\_\+clear\+\_\+error@{orion\+\_\+clear\+\_\+error}}
\index{orion\+\_\+clear\+\_\+error@{orion\+\_\+clear\+\_\+error}!orion.\+h@{orion.\+h}}
\subsubsection{\texorpdfstring{orion\+\_\+clear\+\_\+error()}{orion\_clear\_error()}}
{\footnotesize\ttfamily void orion\+\_\+clear\+\_\+error (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_orion}{Orion}} $\ast$}]{orion }\end{DoxyParamCaption})}

Clears the internal error buffer. Thread safe. \mbox{\Hypertarget{orion_8h_adafd601281e0519b26db46a06046c4f7}\label{orion_8h_adafd601281e0519b26db46a06046c4f7}} 
\index{orion.\+h@{orion.\+h}!orion\+\_\+connect@{orion\+\_\+connect}}
\index{orion\+\_\+connect@{orion\+\_\+connect}!orion.\+h@{orion.\+h}}
\subsubsection{\texorpdfstring{orion\+\_\+connect()}{orion\_connect()}}
{\footnotesize\ttfamily int orion\+\_\+connect (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_orion}{Orion}} $\ast$}]{orion,  }\item[{char $\ast$}]{ip,  }\item[{unsigned short}]{port }\end{DoxyParamCaption})}

Connect a socket to the specified sensor using T\+CP. 
\begin{DoxyParams}{Parameters}
{\em ip} & a string holding the ip address of the sensor in dotted quad notation \\
\hline
{\em port} & the port of the sensor\textquotesingle{}s socket \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, 1 otherwise. Check error buffer after a failure for cause. 
\end{DoxyReturn}
\mbox{\Hypertarget{orion_8h_a33f2460264fc3f9e9939fb3f291c4de5}\label{orion_8h_a33f2460264fc3f9e9939fb3f291c4de5}} 
\index{orion.\+h@{orion.\+h}!orion\+\_\+create@{orion\+\_\+create}}
\index{orion\+\_\+create@{orion\+\_\+create}!orion.\+h@{orion.\+h}}
\subsubsection{\texorpdfstring{orion\+\_\+create()}{orion\_create()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_orion}{Orion}}$\ast$ orion\+\_\+create (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_orion}{Orion}} $\ast$}]{orion }\end{DoxyParamCaption})}

Instantiates the given \mbox{\hyperlink{struct_orion}{Orion}} structure, allocating space if the argument is N\+U\+LL. \begin{DoxyReturn}{Returns}
a pointer to the instantiated structure regardless if it was allocated. 
\end{DoxyReturn}
\mbox{\Hypertarget{orion_8h_a25b007892d35cdb4ed2c42849311bc5f}\label{orion_8h_a25b007892d35cdb4ed2c42849311bc5f}} 
\index{orion.\+h@{orion.\+h}!orion\+\_\+disconnect@{orion\+\_\+disconnect}}
\index{orion\+\_\+disconnect@{orion\+\_\+disconnect}!orion.\+h@{orion.\+h}}
\subsubsection{\texorpdfstring{orion\+\_\+disconnect()}{orion\_disconnect()}}
{\footnotesize\ttfamily void orion\+\_\+disconnect (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_orion}{Orion}} $\ast$}]{orion }\end{DoxyParamCaption})}

Disconnects the socket and disposes of resources. \mbox{\Hypertarget{orion_8h_a8cb76c96eedd83a732514941fd999e71}\label{orion_8h_a8cb76c96eedd83a732514941fd999e71}} 
\index{orion.\+h@{orion.\+h}!orion\+\_\+free@{orion\+\_\+free}}
\index{orion\+\_\+free@{orion\+\_\+free}!orion.\+h@{orion.\+h}}
\subsubsection{\texorpdfstring{orion\+\_\+free()}{orion\_free()}}
{\footnotesize\ttfamily int orion\+\_\+free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_orion}{Orion}} $\ast$}]{orion }\end{DoxyParamCaption})}

Frees anciliary structures allocated by orion. \mbox{\Hypertarget{orion_8h_a30d0255064c075920c03162a3c37b154}\label{orion_8h_a30d0255064c075920c03162a3c37b154}} 
\index{orion.\+h@{orion.\+h}!orion\+\_\+is\+\_\+connected@{orion\+\_\+is\+\_\+connected}}
\index{orion\+\_\+is\+\_\+connected@{orion\+\_\+is\+\_\+connected}!orion.\+h@{orion.\+h}}
\subsubsection{\texorpdfstring{orion\+\_\+is\+\_\+connected()}{orion\_is\_connected()}}
{\footnotesize\ttfamily int orion\+\_\+is\+\_\+connected (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_orion}{Orion}} $\ast$}]{orion }\end{DoxyParamCaption})}

\begin{DoxyReturn}{Returns}
True if the sensor is connected to the orion server. 
\end{DoxyReturn}
\mbox{\Hypertarget{orion_8h_aa2a04410d05c733769b5ef25beb50743}\label{orion_8h_aa2a04410d05c733769b5ef25beb50743}} 
\index{orion.\+h@{orion.\+h}!orion\+\_\+is\+\_\+running@{orion\+\_\+is\+\_\+running}}
\index{orion\+\_\+is\+\_\+running@{orion\+\_\+is\+\_\+running}!orion.\+h@{orion.\+h}}
\subsubsection{\texorpdfstring{orion\+\_\+is\+\_\+running()}{orion\_is\_running()}}
{\footnotesize\ttfamily int orion\+\_\+is\+\_\+running (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_orion}{Orion}} $\ast$}]{orion }\end{DoxyParamCaption})}

Best guess of whether the server is running. Thread safe. \begin{DoxyReturn}{Returns}
True if the orion server was running recently. False otherwise. 
\end{DoxyReturn}
\mbox{\Hypertarget{orion_8h_af99f733c05ea1a26aac41b9b5b4fe307}\label{orion_8h_af99f733c05ea1a26aac41b9b5b4fe307}} 
\index{orion.\+h@{orion.\+h}!orion\+\_\+mark\+\_\+time@{orion\+\_\+mark\+\_\+time}}
\index{orion\+\_\+mark\+\_\+time@{orion\+\_\+mark\+\_\+time}!orion.\+h@{orion.\+h}}
\subsubsection{\texorpdfstring{orion\+\_\+mark\+\_\+time()}{orion\_mark\_time()}}
{\footnotesize\ttfamily double orion\+\_\+mark\+\_\+time (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_orion}{Orion}} $\ast$}]{orion }\end{DoxyParamCaption})}

gets a millisecond accurate timestamp from the system, converts it to Julian hours(see Novas 3.\+1 documentation), then sets the current tracker time. \begin{DoxyReturn}{Returns}
the last marked timestamp. 
\end{DoxyReturn}
\mbox{\Hypertarget{orion_8h_a50ad846a48b4f9a9e6a0bf3daf1edef6}\label{orion_8h_a50ad846a48b4f9a9e6a0bf3daf1edef6}} 
\index{orion.\+h@{orion.\+h}!orion\+\_\+start@{orion\+\_\+start}}
\index{orion\+\_\+start@{orion\+\_\+start}!orion.\+h@{orion.\+h}}
\subsubsection{\texorpdfstring{orion\+\_\+start()}{orion\_start()}}
{\footnotesize\ttfamily int orion\+\_\+start (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_orion}{Orion}} $\ast$}]{orion }\end{DoxyParamCaption})}

Starts the main control loop of the \mbox{\hyperlink{struct_orion}{Orion}} sensor in a separate thread. Thread safe. \begin{DoxyReturn}{Returns}
0 on success, 1 on failure. Check error buffer after a failure for cause. 
\end{DoxyReturn}
\mbox{\Hypertarget{orion_8h_ab48a953fa4789878bbd631ef1080dd33}\label{orion_8h_ab48a953fa4789878bbd631ef1080dd33}} 
\index{orion.\+h@{orion.\+h}!orion\+\_\+stop@{orion\+\_\+stop}}
\index{orion\+\_\+stop@{orion\+\_\+stop}!orion.\+h@{orion.\+h}}
\subsubsection{\texorpdfstring{orion\+\_\+stop()}{orion\_stop()}}
{\footnotesize\ttfamily int orion\+\_\+stop (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_orion}{Orion}} $\ast$}]{orion }\end{DoxyParamCaption})}

Safely stops the control loop and blocks until it returns. Thread safe. \mbox{\Hypertarget{orion_8h_a9b9aa05485996bc3a2ebfcf027e50471}\label{orion_8h_a9b9aa05485996bc3a2ebfcf027e50471}} 
\index{orion.\+h@{orion.\+h}!orion\+\_\+track@{orion\+\_\+track}}
\index{orion\+\_\+track@{orion\+\_\+track}!orion.\+h@{orion.\+h}}
\subsubsection{\texorpdfstring{orion\+\_\+track()}{orion\_track()}}
{\footnotesize\ttfamily void orion\+\_\+track (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_orion}{Orion}} $\ast$}]{orion,  }\item[{\mbox{\hyperlink{novas_8h_a262daaa71cede05205cfaa727313c1f3}{cat\+\_\+entry}}}]{target }\end{DoxyParamCaption})}

Specify a target which the control thread will instruct the sensor to track. Thread safe. 
\begin{DoxyParams}{Parameters}
{\em target} & A novas structure holding the celestial location of the target. \\
\hline
\end{DoxyParams}
