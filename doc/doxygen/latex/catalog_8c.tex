\hypertarget{catalog_8c}{}\section{src/catalog.c File Reference}
\label{catalog_8c}\index{src/catalog.\+c@{src/catalog.\+c}}
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$assert.\+h$>$}\newline
{\ttfamily \#include \char`\"{}novasc3.\+1/novas.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}h/catalog.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}h/vmath.\+h\char`\"{}}\newline
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$ \mbox{\hyperlink{catalog_8c_ab5ef487d840dae49eae5ba53daa33acc}{catalog\+\_\+create}} (\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$catalog, size\+\_\+t allocate)
\item 
\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$ \mbox{\hyperlink{catalog_8c_a80d4ec3d0ab16ee9dd54bb2e1427f5da}{catalog\+\_\+load\+\_\+fk5}} (\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$catalog, F\+I\+LE $\ast$f)
\item 
void \mbox{\hyperlink{catalog_8c_af9fe3c4f5e418bc923bef4351f8e7214}{catalog\+\_\+add}} (\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$catalog, \mbox{\hyperlink{struct_entry}{Entry}} $\ast$entry)
\item 
\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$ \mbox{\hyperlink{catalog_8c_a6c3361e480a536a7fe18411b25dce549}{catalog\+\_\+search\+\_\+dome}} (\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$catalog, double ra, double dec, double r, \mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$results)
\item 
\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$ \mbox{\hyperlink{catalog_8c_a9b7fb5636c582695d7a03647dd82db04}{catalog\+\_\+orange}} (\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$c, double ra\+\_\+min, double ra\+\_\+max, \mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$results)
\item 
\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$ \mbox{\hyperlink{catalog_8c_ab09c9d8a66971156016d8df8c68adcf0}{catalog\+\_\+search\+\_\+patch}} (\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$catalog, double min\+\_\+ra, double max\+\_\+ra, double min\+\_\+dec, double max\+\_\+dec, \mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$results)
\item 
\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$ \mbox{\hyperlink{catalog_8c_aee8bc6347bf9e54e73635a43761ff87e}{catalog\+\_\+filter}} (\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$catalog, int($\ast$predicate)(\mbox{\hyperlink{struct_entry}{Entry}} $\ast$), \mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$results)
\item 
void \mbox{\hyperlink{catalog_8c_a77e44241f4cab40e8d63cb77e6021322}{catalog\+\_\+free}} (\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$catalog)
\item 
void \mbox{\hyperlink{catalog_8c_ad87189655b9c858792980229aa45482c}{catalog\+\_\+free\+\_\+entries}} (\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$catalog)
\item 
void \mbox{\hyperlink{catalog_8c_a63b044c36300ab4b1125f76c38294ec9}{catalog\+\_\+print}} (\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$catalog)
\item 
void \mbox{\hyperlink{catalog_8c_a19c8ba1581559113e346e75a42b0b69b}{catalog\+\_\+each}} (\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$catalog, void($\ast$function)(\mbox{\hyperlink{struct_entry}{Entry}} $\ast$))
\item 
void \mbox{\hyperlink{catalog_8c_aaae428f18337cfeec9ae0af65aa97bb5}{entry\+\_\+print}} (\mbox{\hyperlink{struct_entry}{Entry}} $\ast$star)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{catalog_8c_af9fe3c4f5e418bc923bef4351f8e7214}\label{catalog_8c_af9fe3c4f5e418bc923bef4351f8e7214}} 
\index{catalog.\+c@{catalog.\+c}!catalog\+\_\+add@{catalog\+\_\+add}}
\index{catalog\+\_\+add@{catalog\+\_\+add}!catalog.\+c@{catalog.\+c}}
\subsubsection{\texorpdfstring{catalog\+\_\+add()}{catalog\_add()}}
{\footnotesize\ttfamily void catalog\+\_\+add (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$}]{c,  }\item[{\mbox{\hyperlink{struct_entry}{Entry}} $\ast$}]{e }\end{DoxyParamCaption})}

Adds the given entry to the catalog, doubling the allocated space if necessary. \mbox{\Hypertarget{catalog_8c_ab5ef487d840dae49eae5ba53daa33acc}\label{catalog_8c_ab5ef487d840dae49eae5ba53daa33acc}} 
\index{catalog.\+c@{catalog.\+c}!catalog\+\_\+create@{catalog\+\_\+create}}
\index{catalog\+\_\+create@{catalog\+\_\+create}!catalog.\+c@{catalog.\+c}}
\subsubsection{\texorpdfstring{catalog\+\_\+create()}{catalog\_create()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_catalog}{Catalog}}$\ast$ catalog\+\_\+create (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$}]{c,  }\item[{size\+\_\+t}]{s }\end{DoxyParamCaption})}

Creates a new catalog at the given pointer. If the \textquotesingle{}catalog\textquotesingle{} reference is N\+U\+LL a new catalog and entries are allocated using the hint. If the reference is valid and \textquotesingle{}allocate\textquotesingle{} is positive, new entries are allocated and the old are freed. Otherwise the catalog\textquotesingle{}s pre-\/existing references are used. This allows you to reuse previously allocated catalogs. Returns the initialized catalog. \mbox{\Hypertarget{catalog_8c_a19c8ba1581559113e346e75a42b0b69b}\label{catalog_8c_a19c8ba1581559113e346e75a42b0b69b}} 
\index{catalog.\+c@{catalog.\+c}!catalog\+\_\+each@{catalog\+\_\+each}}
\index{catalog\+\_\+each@{catalog\+\_\+each}!catalog.\+c@{catalog.\+c}}
\subsubsection{\texorpdfstring{catalog\+\_\+each()}{catalog\_each()}}
{\footnotesize\ttfamily void catalog\+\_\+each (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$}]{c,  }\item[{\mbox{\hyperlink{catalog_8h_a6a1f2c5aad5b843fb77ccd6d1b1264df}{Entry\+Function}}}]{f }\end{DoxyParamCaption})}

Applies a void function to every entry in the catalog. \mbox{\Hypertarget{catalog_8c_aee8bc6347bf9e54e73635a43761ff87e}\label{catalog_8c_aee8bc6347bf9e54e73635a43761ff87e}} 
\index{catalog.\+c@{catalog.\+c}!catalog\+\_\+filter@{catalog\+\_\+filter}}
\index{catalog\+\_\+filter@{catalog\+\_\+filter}!catalog.\+c@{catalog.\+c}}
\subsubsection{\texorpdfstring{catalog\+\_\+filter()}{catalog\_filter()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_catalog}{Catalog}}$\ast$ catalog\+\_\+filter (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$}]{catalog,  }\item[{\mbox{\hyperlink{catalog_8h_a3fe12269c689f80670e9777b5984fb26}{Entry\+Predicate}}}]{predicate,  }\item[{\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$}]{result }\end{DoxyParamCaption})}

Searches a catalog for Entries for which the predicate function returns true. No effort is taken to remove duplicates from the results. 
\begin{DoxyParams}{Parameters}
{\em catalog} & The catalog to be searched. \\
\hline
{\em predicate} & a pointer to a boolean function of an \mbox{\hyperlink{struct_entry}{Entry}} \\
\hline
{\em results} & A catalog to add the matches to. If N\+U\+LL, a new \mbox{\hyperlink{struct_catalog}{Catalog}} is allocated. Don\textquotesingle{}t forget to de-\/allocate it! \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to the resulting catalog, regardless if the result parameter was set to N\+U\+LL. 
\end{DoxyReturn}
\mbox{\Hypertarget{catalog_8c_a77e44241f4cab40e8d63cb77e6021322}\label{catalog_8c_a77e44241f4cab40e8d63cb77e6021322}} 
\index{catalog.\+c@{catalog.\+c}!catalog\+\_\+free@{catalog\+\_\+free}}
\index{catalog\+\_\+free@{catalog\+\_\+free}!catalog.\+c@{catalog.\+c}}
\subsubsection{\texorpdfstring{catalog\+\_\+free()}{catalog\_free()}}
{\footnotesize\ttfamily void catalog\+\_\+free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$}]{c }\end{DoxyParamCaption})}

Releases the \mbox{\hyperlink{struct_catalog}{Catalog}} and it\textquotesingle{}s directory, but not the actual Entries. \mbox{\Hypertarget{catalog_8c_ad87189655b9c858792980229aa45482c}\label{catalog_8c_ad87189655b9c858792980229aa45482c}} 
\index{catalog.\+c@{catalog.\+c}!catalog\+\_\+free\+\_\+entries@{catalog\+\_\+free\+\_\+entries}}
\index{catalog\+\_\+free\+\_\+entries@{catalog\+\_\+free\+\_\+entries}!catalog.\+c@{catalog.\+c}}
\subsubsection{\texorpdfstring{catalog\+\_\+free\+\_\+entries()}{catalog\_free\_entries()}}
{\footnotesize\ttfamily void catalog\+\_\+free\+\_\+entries (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$}]{c }\end{DoxyParamCaption})}

Releases the Entries underlying the \mbox{\hyperlink{struct_catalog}{Catalog}}. \mbox{\Hypertarget{catalog_8c_a80d4ec3d0ab16ee9dd54bb2e1427f5da}\label{catalog_8c_a80d4ec3d0ab16ee9dd54bb2e1427f5da}} 
\index{catalog.\+c@{catalog.\+c}!catalog\+\_\+load\+\_\+fk5@{catalog\+\_\+load\+\_\+fk5}}
\index{catalog\+\_\+load\+\_\+fk5@{catalog\+\_\+load\+\_\+fk5}!catalog.\+c@{catalog.\+c}}
\subsubsection{\texorpdfstring{catalog\+\_\+load\+\_\+fk5()}{catalog\_load\_fk5()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_catalog}{Catalog}}$\ast$ catalog\+\_\+load\+\_\+fk5 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$}]{c,  }\item[{F\+I\+LE $\ast$}]{f }\end{DoxyParamCaption})}

Loads a F\+K5 catalog printout from the given file. \mbox{\Hypertarget{catalog_8c_a9b7fb5636c582695d7a03647dd82db04}\label{catalog_8c_a9b7fb5636c582695d7a03647dd82db04}} 
\index{catalog.\+c@{catalog.\+c}!catalog\+\_\+orange@{catalog\+\_\+orange}}
\index{catalog\+\_\+orange@{catalog\+\_\+orange}!catalog.\+c@{catalog.\+c}}
\subsubsection{\texorpdfstring{catalog\+\_\+orange()}{catalog\_orange()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_catalog}{Catalog}}$\ast$ catalog\+\_\+orange (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$}]{c,  }\item[{double}]{ra\+\_\+min,  }\item[{double}]{ra\+\_\+max,  }\item[{\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$}]{results }\end{DoxyParamCaption})}

\mbox{\Hypertarget{catalog_8c_a63b044c36300ab4b1125f76c38294ec9}\label{catalog_8c_a63b044c36300ab4b1125f76c38294ec9}} 
\index{catalog.\+c@{catalog.\+c}!catalog\+\_\+print@{catalog\+\_\+print}}
\index{catalog\+\_\+print@{catalog\+\_\+print}!catalog.\+c@{catalog.\+c}}
\subsubsection{\texorpdfstring{catalog\+\_\+print()}{catalog\_print()}}
{\footnotesize\ttfamily void catalog\+\_\+print (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$}]{c }\end{DoxyParamCaption})}

Prints the given catalog to stdout in a default format. \mbox{\Hypertarget{catalog_8c_a6c3361e480a536a7fe18411b25dce549}\label{catalog_8c_a6c3361e480a536a7fe18411b25dce549}} 
\index{catalog.\+c@{catalog.\+c}!catalog\+\_\+search\+\_\+dome@{catalog\+\_\+search\+\_\+dome}}
\index{catalog\+\_\+search\+\_\+dome@{catalog\+\_\+search\+\_\+dome}!catalog.\+c@{catalog.\+c}}
\subsubsection{\texorpdfstring{catalog\+\_\+search\+\_\+dome()}{catalog\_search\_dome()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_catalog}{Catalog}}$\ast$ catalog\+\_\+search\+\_\+dome (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$}]{catalog,  }\item[{double}]{right\+\_\+ascension,  }\item[{double}]{declination,  }\item[{double}]{radius,  }\item[{\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$}]{results }\end{DoxyParamCaption})}

Searches a catalog for entries within the geometry and returns a catalog holding the results. No effort is taken to remove duplicates from the results. 
\begin{DoxyParams}{Parameters}
{\em catalog} & The catalog to be searched. \\
\hline
{\em right\+\_\+ascension} & Right ascension of axis of search cone volume in hours. \\
\hline
{\em declination} & Declination of axis of search cone volume in degrees. \\
\hline
{\em radius} & Angle between axis and edge of search cone volume in degrees. \\
\hline
{\em results} & A catalog to add the matches to. If N\+U\+LL, a new \mbox{\hyperlink{struct_catalog}{Catalog}} is allocated. Don\textquotesingle{}t forget to de-\/allocate it! \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to the resulting catalog, regardless if the result parameter was set to N\+U\+LL. 
\end{DoxyReturn}
\mbox{\Hypertarget{catalog_8c_ab09c9d8a66971156016d8df8c68adcf0}\label{catalog_8c_ab09c9d8a66971156016d8df8c68adcf0}} 
\index{catalog.\+c@{catalog.\+c}!catalog\+\_\+search\+\_\+patch@{catalog\+\_\+search\+\_\+patch}}
\index{catalog\+\_\+search\+\_\+patch@{catalog\+\_\+search\+\_\+patch}!catalog.\+c@{catalog.\+c}}
\subsubsection{\texorpdfstring{catalog\+\_\+search\+\_\+patch()}{catalog\_search\_patch()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_catalog}{Catalog}}$\ast$ catalog\+\_\+search\+\_\+patch (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$}]{catalog,  }\item[{double}]{ra\+\_\+min,  }\item[{double}]{ra\+\_\+max,  }\item[{double}]{dec\+\_\+min,  }\item[{double}]{dec\+\_\+max,  }\item[{\mbox{\hyperlink{struct_catalog}{Catalog}} $\ast$}]{results }\end{DoxyParamCaption})}

Searches a catalog for entries within the geometry and returns a catalog holding the results. No effort is taken to remove duplicates from the results. 
\begin{DoxyParams}{Parameters}
{\em catalog} & The catalog to be searched. \\
\hline
{\em ra\+\_\+min} & Right ascension lower bound, inclusive. \\
\hline
{\em ra\+\_\+max} & Right ascension upper bound, inclusive. \\
\hline
{\em dec\+\_\+min} & Declination lower bound, inclusive. \\
\hline
{\em dec\+\_\+max} & Declination upper bound, inclusive. \\
\hline
{\em results} & A catalog to add the matches to. If N\+U\+LL, a new \mbox{\hyperlink{struct_catalog}{Catalog}} is allocated. Don\textquotesingle{}t forget to de-\/allocate it! \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{catalog_8c_aaae428f18337cfeec9ae0af65aa97bb5}\label{catalog_8c_aaae428f18337cfeec9ae0af65aa97bb5}} 
\index{catalog.\+c@{catalog.\+c}!entry\+\_\+print@{entry\+\_\+print}}
\index{entry\+\_\+print@{entry\+\_\+print}!catalog.\+c@{catalog.\+c}}
\subsubsection{\texorpdfstring{entry\+\_\+print()}{entry\_print()}}
{\footnotesize\ttfamily void entry\+\_\+print (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_entry}{Entry}} $\ast$}]{star }\end{DoxyParamCaption})}

